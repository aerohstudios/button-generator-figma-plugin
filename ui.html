<style>
  ::-webkit-scrollbar {
    display: none;
}
  * {
    margin: 0;
    padding: 0;
    font-family: "Inter";
    color: var(--figma-color-text);
  }
  body {
    /* padding: 0 30px; */
    background-color: 1px solid var(--figma-color-bg);
  }
  .section-title {
    font-size: 12px;
    font-weight: bold;
  }
  input,
  textarea {
    background-color: transparent;
    border: 1px solid var(--figma-color-border);
    padding: 0px;
    height: 30px;
    border-radius: 5px;
    font-size: 12px;
  }
  select {
    background-color: transparent;
    border: 1px solid var(--figma-color-border);
    width: 110px;
    border-radius: 5px;
    padding: 5px;
    font-size: 12px;
  }
  .checkbox {
    display: flex;
    justify-content: flex-start;
    align-items: center;
    gap: 10px;
  }
  .checkbox__label {
    font-size: 12px;
  }
  .button--primary {
    background-color: #ffc83a;
    color: #100e14;
    padding: 10px;
    border-radius: 5px;
    font-size: 12px;
    border: none;
    height: 35px;
    width: 187px;
  }
  .button--secondary {
    background-color: transparent;
    /* color: #FFFFFF; */
    padding: 10px;
    border-radius: 5px;
    font-size: 12px;
    border: 1px solid var(--figma-color-border-strong);
    height: 40px;
    width: 187px;
  }
  input:checked {
    background-color: #ffc83a;
  }
  .navbar {
    display: flex;
    justify-content: flex-start;
    align-items: center;
    gap: 20px;
    padding: 10px;
    font-size: 12px;
    border-bottom: 1px solid var(--figma-color-border);
    position: sticky;
    top: 0;
  }
  .navbar-option {
    cursor: pointer;
    color: var(--figma-color-text-disabled);
    transition: color 0.3s;
  }
  .navbar-option:hover {
    color: var(--figma-color-text-onselected-secondary);
  }

  .navbar-option.active {
    color: var(--figma-color-text-onselected);
  }

  #waitlist-success-text {
    text-align: center;
    font-size: 12px;
    display: none;
  }
  .btn-disabled {
    background-color: #7f7f7f;
    color: #ffffff;
    cursor: not-allowed;
  }
  .outline {
    color: transparent;
    position: relative;
  }

  .outline[title]:before {
    content: attr(title);
    position: absolute;
    width: 100%;
    text-shadow: 0 0 0 var(--figma-color-text);
  }

  .warning {
    color: var(--figma-color-text-danger);
  }
  #preview-button {
    height: 40px;
    width: 117px;
    border: none;
  }
  #button-preview-container {
    display: flex;
    justify-content: center;
    align-items: center;
    border: 1px solid var(--figma-color-border);
    background-color: var(--figma-color-bg);
    flex-direction: column;
    gap: 10px;
    padding: 10px;
    min-height: 100px;
  }
  #preview-button {
    height: 40px;
    width: 117px;
    border: none;
  }

  .flex-row-center {
    display: flex;
    justify-content: flex-start;
    align-items: flex-start;
  }

  .flex-column-center {
    display: flex;
    justify-content: flex-start;
    align-items: flex-start;
    flex-direction: column;
    height: 100%;
  }
</style>
<div style="display: flex; flex-direction: column; gap: 0px">
  <div class="navbar">
    <p onclick="showButtons()" id="buttonsOption" class="navbar-option active">
      Buttons
    </p>
    <p onclick="showCustomAI()" id="customAIOption" class="navbar-option">
      Custom AI <span class="emoji outline" title="✨">✨</span>
    </p>
    <p onclick="showReportPage()" id="reportOption" class="navbar-option">
      Report/Feedback
    </p>
  </div>
  <div
    id="buttonsSection"
    style="padding: 0 20px; display: flex; flex-direction: column; gap: 20px;"
  >
    <div id="preview-section" style="position: sticky; top: 37; z-index: 999">
      <p
        style="
          width: 100%;
          text-align: left;
          font-size: 12px;
          font-weight: bold;
          margin: 10px 0;
        "
      >
        Below is the preview of the Primary Small Button:
      </p>
      <div id="button-preview-container">
        <button id="preview-button">Preview</button>
      </div>
    </div>

    <div
      class="flex-row-center"
      style="gap: 10px; height: 100%"
      id="middle-section"
    >
      <div class="flex-column-center" style="gap: 25px">
        <div class="checkbox" style="width: 100%">
          <input
            id="toggleLocalColorStylesCheckbox"
            type="checkbox"
            class="checkbox__box"
          />
          <label for="toggleLocalColorStylesCheckbox" class="checkbox__label"
            >Use Your Local Color Styles</label
          >
        </div>
        <div
          id="localStylesInputContainer"
          style="
            display: none;
            justify-content: center;
            flex-direction: column;
            align-items: center;
            gap: 25px;
            width: 100%;
          "
        >
          <div
            id="localStylesInputContainer"
            style="
              display: flex;
              justify-content: center;
              flex-direction: row;
              align-items: center;
              gap: 10px;
              width: 100%;
            "
          >
            <div
              style="
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: flex-start;
                width: 100%;
                gap: 15px;
              "
            >
              <div class="section-title">Primary Color:</div>
              <select name="primary-color" id="color-dropdown"></select>
            </div>

            <div
              style="
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: flex-start;
                width: 100%;
                gap: 15px;
              "
            >
              <div class="section-title">Secondary Color:</div>
              <select
                name="secondary-color"
                id="secondary-color-dropdown"
              ></select>
            </div>
          </div>
          <div class="checkbox" style="width: 100%">
            <input
              id="toggleLocalColorStylesCheckboxAdvanced"
              type="checkbox"
              class="checkbox__box"
            />
            <label for="toggleLocalColorStylesCheckbox" class="checkbox__label"
              >Choose Hover and Pressed Color</label
            >
          </div>
          <div
            id="localStylesInputContainerAdvanced"
            style="
              display: none;
              justify-content: center;
              flex-direction: row;
              align-items: center;
              gap: 10px;
              width: 100%;
            "
          >
            <div
              style="
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: flex-start;
                width: 100%;
                gap: 15px;
              "
            >
              <div class="section-title">Hover Color:</div>
              <select
                name="primary-hover-color"
                id="color-hover-dropdown"
              ></select>
            </div>

            <div
              style="
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: flex-start;
                width: 100%;
                gap: 15px;
              "
            >
              <div class="section-title">Pressed Color:</div>
              <select
                name="secondary-pressed-color"
                id="color-pressed-dropdown"
              ></select>
            </div>
          </div>
        </div>
        <div
          id="customInputColorsSection"
          style="
            display: flex;
            justify-content: space-between;
            flex-direction: row;
            align-items: center;
            gap: 10px;
          "
        >
          <div
            style="
              display: flex;
              justify-content: center;
              align-items: flex-start;
              width: 110px;
              flex-direction: column;
              gap: 15px;
            "
          >
            <div class="section-title">Primary Color:</div>
            <div class="input" style="width: 100%; height: 100%">
              <input
                type="color"
                id="primary-color"
                class="input__field"
                placeholder="Primary Color"
                value="#48479A"
                style="width: 100%; height: 30px"
              />
            </div>
          </div>

          <div
            style="
              display: flex;
              justify-content: center;
              align-items: flex-start;
              width: 110px;
              flex-direction: column;
              gap: 15px;
            "
          >
            <div class="section-title">Secondary Color:</div>
            <div style="width: 100%; height: 100%">
              <input
                type="color"
                id="secondary-color"
                class="input__field"
                placeholder="Secondary Color"
                value="#FFFFFF"
                style="width: 100%; height: 30px"
              />
            </div>
          </div>
        </div>
        <div
          style="
            display: flex;
            justify-content: center;
            align-items: flex-start;
            width: 100%;
            flex-direction: column;
            gap: 15px;
          "
        >
          <div class="section-title">Font Name:</div>
          <div class="input">
            <input
              type="text"
              id="font-style"
              class="input__field"
              placeholder="Type Your Font Name (ex: Arial)"
              value="Inter"
              style="padding: 5px; width: 230px"
            />
          </div>
        </div>
      </div>

      <hr
        style="
          border: 0.1px solid var(--figma-color-border);
          background-color: transparent;
          height: 350px;
          width: 0.1px;
        "
      />
      <!-- <div style="height: 100%; width: 2px; background-color: var(--figma-color-border);"></div> -->

      <div class="flex-column-center" style="gap: 0px">
        <div class="checkbox" style="width: 100%">
          <input
            id="toggleButtonPaddingCheckbox"
            type="radio"
            class="checkbox__box"
            name="customPaddingAndDimensionsOption"
          />
          <label for="toggleButtonPaddingCheckbox" class="checkbox__label"
            >Use Padding</label
          >
        </div>

        <div
          id="paddingInputContainer"
          style="
            display: none;
            justify-content: center;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            width: 100%;
            margin-top: 25px;
          "
        >
          <div
            id="paddingInputContainer"
            style="
              display: flex;
              justify-content: center;
              flex-direction: row;
              align-items: center;
              gap: 10px;
              width: 100%;
            "
          >
            <div
              style="
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: flex-start;
                width: 110px;
                gap: 15px;
              "
            >
              <div class="section-title">Vertical:</div>
              <div class="input" style="width: 100%">
                <input
                  type="number"
                  id="button-vertical-padding"
                  class="input__field"
                  placeholder="Max: 100"
                  max="100"
                  min="0"
                  style="width: 100%; padding: 5px"
                />
              </div>
            </div>

            <div
              style="
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: flex-start;
                width: 110px;
                gap: 15px;
              "
            >
              <div class="section-title">Horizontal:</div>
              <div class="input" style="width: 100%">
                <input
                  type="number"
                  id="button-horizontal-padding"
                  class="input__field"
                  placeholder="Max: 100"
                  min="0"
                  max="100"
                  style="width: 100%; padding: 5px"
                />
              </div>
            </div>
          </div>
        </div>

        <div class="checkbox" style="margin-top: 25px">
          <input
            id="toggleCheckbox"
            type="radio"
            class="checkbox__box"
            name="customPaddingAndDimensionsOption"
          />
          <label for="toggleCheckbox" class="checkbox__label"
            >Use Custom Dimensions<br /><span style="font-size: 10px"
              >(Button Font Size will Auto-Scale)</span
            ></label
          >
        </div>

        <div
          id="inputContainer"
          style="
            display: none;
            justify-content: center;
            flex-direction: column;
            align-items: center;
            gap: 2rem;
            width: 100%;
          "
        >
          <div
            id="inputContainer"
            style="
              display: flex;
              justify-content: center;
              flex-direction: row;
              align-items: center;
              gap: 10px;
              width: 100%;
              margin-top: 25px;
            "
          >
            <div
              style="
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: flex-start;
                width: 100%;
                gap: 15px;
              "
            >
              <div class="section-title">Height:</div>
              <div class="input" style="width: 110px">
                <input
                  type="number"
                  id="button-height"
                  class="input__field"
                  placeholder="Max: 200"
                  max="200"
                  min="0"
                  style="width: 100%; padding: 5px"
                />
              </div>
            </div>

            <div
              style="
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: flex-start;
                width: 100%;
                gap: 15px;
              "
            >
              <div class="section-title">Width:</div>
              <div class="input" style="width: 110px">
                <input
                  type="number"
                  id="button-width"
                  class="input__field"
                  placeholder="Max: 200"
                  min="0"
                  max="200"
                  style="width: 100%; padding: 5px"
                />
              </div>
            </div>
          </div>
        </div>

        <div
          style="
            display: flex;
            justify-content: center;
            align-items: flex-start;
            width: 100%;
            flex-direction: column;
            gap: 15px;
            margin-top: 24px;
          "
        >
          <div class="section-title">Button Radius:</div>
          <div class="input">
            <input
              type="number"
              id="button-radius"
              class="input__field"
              placeholder="Button Radius"
              value="10"
              style="padding: 5px; width: 110px"
            />
          </div>
        </div>
        <div class="checkbox" style="width: 100%; margin-top: 13px">
          <input
            id="toggleTextSizeCheckbox"
            type="checkbox"
            class="checkbox__box"
          />
          <label for="toggleTextSizeCheckbox" class="checkbox__label"
            >Custom Button Font Size <br /><span style="font-size: 10px"
              >(will apply to ALL buttons)</span
            ></label
          >
        </div>

        <div
          id="textSizeInputContainer"
          style="
            justify-content: center;
            flex-direction: column;
            align-items: center;
            gap: 2rem;
            width: 110px;
            margin-top: 10px;
          "
        >
          <div
            style="
              display: flex;
              flex-direction: column;
              justify-content: center;
              align-items: flex-start;
              width: 100%;
              gap: 10px;
            "
          >
            <div class="input" style="width: 100%">
              <input
                type="number"
                id="button-font-size"
                class="input__field"
                placeholder=""
                value="20"
                min="0"
                max="200"
                style="width: 100%; padding: 5px"
              />
            </div>
          </div>
        </div>
      </div>
    </div>

    <div
      style="
        position: sticky;
        bottom: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 10px 0 30px 0;
        width: 100%;
        background-color: var(--figma-color-bg);
      "
      id="generate-button-section"
    >
      <button id="submit-post" class="button button--primary">
        Generate Components
      </button>
    </div>
  </div>

  <div
    id="customAISection"
    style="display: none; padding: 0 20px; flex-direction: column; gap: 15px"
  >
    <!-- Custom AI Section -->
    <div
      style="
        display: flex;
        justify-content: center;
        flex-direction: column;
        align-items: flex-start;
        width: 100%;
        gap: 25px;
      "
    >
      <p style="font-size: 18px; font-weight: bold; color: var(--figma-color-text); text-align: center; margin-top: 20px; width: 100%;">
        Enter your email to get early access to our AI features!
      </p>
      <div
        style="
          display: flex;
          justify-content: center;
          flex-direction: column;
          align-items: flex-start;
          width: 100%;
          gap: 10px;
        "
      >
        <div class="section-title">Name:</div>
        <div class="input" style="width: 100%">
          <input
            type="text"
            id="name-input"
            class="input__field"
            placeholder="Enter your name"
            style="width: 100%; padding: 5px; height: 40px"
          />
        </div>
      </div>

      <div
        style="
          display: flex;
          justify-content: center;
          flex-direction: column;
          align-items: flex-start;
          width: 100%;
          gap: 10px;
        "
      >
        <div class="section-title">Email:</div>
        <div class="input" style="width: 100%">
          <input
            type="email"
            id="email-input"
            class="input__field"
            placeholder="Enter your email"
            style="width: 100%; padding: 5px; height: 40px"
          />
        </div>
      </div>

    <div style="display: flex; gap: 10px; width: 100%;">
      <div
        style="
          display: flex;
          justify-content: center;
          flex-direction: column;
          align-items: flex-start;
          width: 100%;
          gap: 10px;
        "
      >
        <div class="section-title">Role:</div>
        <div class="input" style="width: 100%">
          <input
            type="role"
            id="role-input"
            class="input__field"
            placeholder="We want to know who is using our plugin so we can improve it for them."
            style="width: 100%; padding: 5px; height: 40px"
          />
        </div>
      </div>

      <div
        style="
          display: flex;
          justify-content: center;
          flex-direction: column;
          align-items: flex-start;
          width: 100%;
          gap: 10px;
        "
      >
        <div class="section-title">Company:</div>
        <div class="input" style="width: 100%">
          <input
            type="text"
            id="company-input"
            class="input__field"
            placeholder="We want to understand who is benefitting from our plugin to cater better features"
            style="width: 100%; padding: 5px; height: 40px"
          />
        </div>
      </div>
    </div>
      <div
        style="
          display: flex;
          justify-content: center;
          flex-direction: column;
          align-items: flex-start;
          width: 100%;
          gap: 10px;
        "
      >
        <div class="section-title">
          What AI Superpowers are you most excited about?
        </div>
      <div style="display: flex; flex-direction: column; width: 100%;">
        <div class="checkbox" style="width: 100%; margin-left: 15px;">
          <input
            id="codeGenerationCheckbox"
            type="checkbox"
            class="checkbox__box"
          />
          <label for="codeGenerationCheckbox" class="checkbox__label"
            >Code Generation</label
          >
        </div>
        <div class="checkbox" style="width: 100%; margin-left: 15px;">
          <input
            id="uiGenerationCheckbox"
            type="checkbox"
            class="checkbox__box"
          />
          <label for="uiGenerationCheckbox" class="checkbox__label"
            >UI Generation</label
          >
        </div>
        <div style="display: flex; flex-direction: column; width: 100%;">
        <div class="checkbox" style="width: 100%; margin-left: 15px;">
          <input id="otherCheckbox" type="checkbox" class="checkbox__box" />
          <label for="otherCheckbox" class="checkbox__label">Other</label>
        </div>
        <textarea
            maxlength="300"
            type="text"
            id="otherInput"
            class="input__field"
            placeholder="Enter Other (max 255 characters)"
            style="width: 92%; padding: 5px; height: 25px; margin-left: 35px; height: 80px;"
          ></textarea>
        </div>

      </div>
      </div>
    </div>
    <div
      style="
        width: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
      "
    >
      <button
        id="submit-email"
        class="button button--primary"
        style="width: 110px"
        onclick="submitEmail()"
      >
        Submit
      </button>
    </div>

    <p id="waitlist-success-text" style="text-align: center; font-size: 12px">
      Congrats you have been added to the waitlist 🎉
    </p>
  </div>
  <div
    id="reportSection"
    style="
      padding: 0 20px;
      display: none;
      flex-direction: column;
      gap: 20px;
      justify-content: center;
      align-items: center;
    "
  >
    <p style="color: var(--figma-color-text); font-weight: bold; margin-top: 20px; font-size: 18px; text-align: center; width: 100%;">
      Have any issues or feedback, share them with us!
    </p>

    <a
      href="https://forms.gle/LrfpkoeQiALGzhai8"
      target="_blank"
      style="text-decoration: none"
      ><button class="button button--secondary" onclick="">
        Report / Give Feedback
      </button></a
    >
  </div>
</div>

<script>
  // Get all the relevant elements
  const primaryColorPreview = document.getElementById("primary-color");
  const secondaryColorPreview = document.getElementById("secondary-color");
  const primaryLocalColorPreview = document.getElementById("color-dropdown");
  const secondaryLocalColorPreview = document.getElementById(
    "secondary-color-dropdown"
  );
  const buttonRadiusInput = document.getElementById("button-radius");
  const fontStyleInput = document.getElementById("font-style");
  const buttonHeightInput = document.getElementById("button-height");
  const buttonWidthInput = document.getElementById("button-width");
  const buttonFontSizeInput = document.getElementById("button-font-size");
  const useCustomSizeCheckbox = document.getElementById("toggleCheckbox");
  const useCustomFontSizeCheckbox = document.getElementById(
    "toggleTextSizeCheckbox"
  );
  const useLocalColorStylesCheckbox = document.getElementById(
    "toggleLocalColorStylesCheckbox"
  );
  const useLocalColorStylesCheckboxAdvanced = document.getElementById(
    "toggleLocalColorStylesCheckboxAdvanced"
  );
  const previewButton = document.getElementById("preview-button");
  const useButtonPaddingCheckbox = document.getElementById(
      "toggleButtonPaddingCheckbox"
    );
  const buttonVerticalPaddingInput = document.getElementById("button-vertical-padding");
  const buttonHorizontalPaddingInput = document.getElementById("button-horizontal-padding");


  // Add event listeners to all relevant elements
  primaryColorPreview.addEventListener("input", updatePreviewButton);
  secondaryColorPreview.addEventListener("input", updatePreviewButton);
  primaryLocalColorPreview.addEventListener("input", updatePreviewButton);
  secondaryLocalColorPreview.addEventListener("input", updatePreviewButton);
  buttonRadiusInput.addEventListener("input", updatePreviewButton);
  fontStyleInput.addEventListener("input", updatePreviewButton);
  buttonHeightInput.addEventListener("input", updatePreviewButton);
  buttonWidthInput.addEventListener("input", updatePreviewButton);
  buttonFontSizeInput.addEventListener("input", updatePreviewButton);
  useCustomSizeCheckbox.addEventListener("change", updatePreviewButton);
  useCustomFontSizeCheckbox.addEventListener("change", updatePreviewButton);
  useLocalColorStylesCheckbox.addEventListener("change", updatePreviewButton);
  useButtonPaddingCheckbox.addEventListener("change", updatePreviewButton);
  buttonVerticalPaddingInput.addEventListener("input", updatePreviewButton);
  buttonHorizontalPaddingInput.addEventListener("input", updatePreviewButton);

  // Function to update the preview button
  function updatePreviewButton() {
  const primaryColor = primaryColorPreview.value;
  const secondaryColor = secondaryColorPreview.value;
  const buttonRadius = buttonRadiusInput.value;
  const fontStyle = fontStyleInput.value;
  const buttonHeight = buttonHeightInput.value;
  const buttonWidth = buttonWidthInput.value;
  const buttonFontSize = buttonFontSizeInput.value;
  const buttonVerticalPadding = buttonVerticalPaddingInput.value;
  const buttonHorizontalPadding = buttonHorizontalPaddingInput.value;
  const useCustomSize = useCustomSizeCheckbox.checked;
  const useCustomFontSize = useCustomFontSizeCheckbox.checked;
  const useLocalColorStyles = useLocalColorStylesCheckbox.checked;
  const useButtonPadding = useButtonPaddingCheckbox.checked;

  // Apply styles to the preview button
  previewButton.style.borderRadius = buttonRadius + "px";
  previewButton.style.fontFamily = fontStyle;

  if (useButtonPadding) {
    // Check if buttonVerticalPadding and buttonHorizontalPadding are not null
    const verticalPadding = buttonVerticalPadding !== null ? buttonVerticalPadding + "px" : "0";
    const horizontalPadding = buttonHorizontalPadding !== null ? buttonHorizontalPadding + "px" : "0";

    // Apply padding
    previewButton.style.paddingTop = verticalPadding;
    previewButton.style.paddingBottom = verticalPadding;
    previewButton.style.paddingLeft = horizontalPadding;
    previewButton.style.paddingRight = horizontalPadding;

    previewButton.style.height = "auto";
    previewButton.style.width = "auto";
    previewButton.style.fontSize = "12px";
  } else if (useCustomSize){
    previewButton.style.height = useCustomSize ? buttonHeight + "px" : "40px";
    previewButton.style.width = useCustomSize ? buttonWidth + "px" : "117px";
    previewButton.style.padding = "0";
  }

  // Calculate font size
  let fontSize;
  if (useCustomFontSize) {
    fontSize = buttonFontSize + "px";
  } else if (useButtonPadding) {
        if (buttonSize == 'small') {
          buttonTextNode.fontSize = 12;
        } else if (buttonSize == 'medium') {
          buttonTextNode.fontSize = 16;
        } else {
          buttonTextNode.fontSize = 20;
        }
  } else {
    if (buttonHeight === buttonWidth && useCustomSize) {
      fontSize = Math.max(12, Math.floor(buttonWidth / 20) * 4) + "px";
    } else {
      fontSize = Math.max(12, Math.floor(buttonWidth / 20) * 4) + "px";
    }
  }
  previewButton.style.fontSize = fontSize;

    let primaryColorButton = primaryColor;
    let secondaryColorButton = secondaryColor;

    if (useLocalColorStyles) {
      const localPrimaryColor = document.getElementById("color-dropdown").value;
      const localSecondaryColor = document.getElementById(
        "secondary-color-dropdown"
      ).value;

      // Parse the JSON strings back into objects
      const primaryColorButton = JSON.parse(localPrimaryColor);
      const secondaryColorButton = JSON.parse(localSecondaryColor);

      // Set background and text color using RGB values
      previewButton.style.backgroundColor = `rgb(${
        primaryColorButton.r * 255
      }, ${primaryColorButton.g * 255}, ${primaryColorButton.b * 255})`;
      previewButton.style.color = `rgb(${secondaryColorButton.r * 255}, ${
        secondaryColorButton.g * 255
      }, ${secondaryColorButton.b * 255})`;
    } else {
      previewButton.style.backgroundColor = primaryColorButton;
      previewButton.style.color = secondaryColorButton;
    }
  }
  // Call updatePreviewButton initially to set initial styles
  updatePreviewButton();

  const paddingInputContainer = document.getElementById(
    "paddingInputContainer"
  );

  const inputContainer = document.getElementById("inputContainer");

  document.addEventListener("DOMContentLoaded", function () {
    // Get all radio buttons
    const radioButtons = document.querySelectorAll(
      'input[type="radio"][name="customPaddingAndDimensionsOption"]'
    );
    let selectedRadioButton = null;

    // Add click event listener to each radio button
    radioButtons.forEach((button) => {
      button.addEventListener("click", function () {
        // Deselect the radio button if it's already selected
        if (selectedRadioButton === this) {
          this.checked = false;
          selectedRadioButton = null;
          // Hide the corresponding container
          if (button.id === "toggleButtonPaddingCheckbox") {
            paddingInputContainer.style.display = "none";
          } else if (button.id === "toggleCheckbox") {
            inputContainer.style.display = "none";
          }
        } else {
          // Loop through all radio buttons to deselect others
          radioButtons.forEach((otherButton) => {
            if (otherButton !== this) {
              otherButton.checked = false;
            }
          });

          // Select the clicked radio button
          this.checked = true;
          selectedRadioButton = this;

          // Toggle visibility of containers based on the selected radio option
          if (button.id === "toggleButtonPaddingCheckbox") {
            paddingInputContainer.style.display = "flex";
            inputContainer.style.display = "none"; // Hide the other container
          } else if (button.id === "toggleCheckbox") {
            inputContainer.style.display = "flex";
            paddingInputContainer.style.display = "none"; // Hide the other container
          }
        }
      });
    });
  });

  // localStylesInputContainer
  const inputLocalColorStylesContainer = document.getElementById(
    "localStylesInputContainer"
  );
  const inputCustomStylesContainer = document.getElementById(
    "customInputColorsSection"
  );
  const inputCustomStylesContainerAdvanced = document.getElementById(
    "localStylesInputContainerAdvanced"
  );
  document.addEventListener("DOMContentLoaded", function () {
    const checkbox = document.getElementById("toggleLocalColorStylesCheckbox");

    checkbox.addEventListener("change", function () {
      inputLocalColorStylesContainer.style.display = checkbox.checked
        ? "flex"
        : "none";
      inputCustomStylesContainer.style.display = checkbox.checked
        ? "none"
        : "flex";
    });
  });
  document.addEventListener("DOMContentLoaded", function () {
    const checkbox = document.getElementById(
      "toggleLocalColorStylesCheckboxAdvanced"
    );

    checkbox.addEventListener("change", function () {
      inputCustomStylesContainerAdvanced.style.display = checkbox.checked
        ? "flex"
        : "none";
    });
  });

  document.getElementById("submit-post").onclick = () => {
    const primaryColor = document.getElementById("primary-color").value;
    const secondaryColor = document.getElementById("secondary-color").value;
    const buttonRadius = document.getElementById("button-radius").value;
    var fontStyle = document.getElementById("font-style").value;
    const buttonHeight = document.getElementById("button-height").value;
    const buttonWidth = document.getElementById("button-width").value;
    const buttonFontSize = document.getElementById("button-font-size").value;
    const useCustomSize = document.getElementById("toggleCheckbox").checked;
    const useCustomFontSize = document.getElementById(
      "toggleTextSizeCheckbox"
    ).checked;
    const useLocalColorStyles = document.getElementById(
      "toggleLocalColorStylesCheckbox"
    ).checked;
    const useButtonPadding = document.getElementById(
      "toggleButtonPaddingCheckbox"
    ).checked;

    if (useCustomSize) {
      // Validate custom height and width
      const isValidHeight = validateSize(buttonHeight);
      const isValidWidth = validateSize(buttonWidth);

      if (!isValidHeight || !isValidWidth) {
        alert(
          "Custom height and width should be numbers less than or equal to 200."
        );
        return;
      }
    }

    if (useCustomFontSize) {
      if (!buttonFontSize || isNaN(buttonFontSize) || buttonFontSize < 0) {
        alert("Please enter a valid font size!");
        return;
      }
    }

    if (useButtonPadding) {
      var verticalPadding = document.getElementById(
        "button-vertical-padding"
      ).value;
      var horizontalPadding = document.getElementById(
        "button-horizontal-padding"
      ).value;
    }

    if (!fontStyle) {
      fontStyle = "Inter";
    }

    let primaryrgbValues = hexToSmallRgb(primaryColor);
    let secondaryrgbValues = hexToSmallRgb(secondaryColor);
    function hexToSmallRgb(hex) {
      // Remove the hash character, if present
      hex = hex.replace(/^#/, "");

      // Parse the hex values to RGB
      var bigint = parseInt(hex, 16);
      var r = ((bigint >> 16) & 255) / 255;
      var g = ((bigint >> 8) & 255) / 255;
      var b = (bigint & 255) / 255;

      // Return the small RGB values as an object
      return { r: r, g: g, b: b };
    }

    if (useLocalColorStyles) {
      const localPrimaryColorName = document.getElementById("color-dropdown");
      var selectedOption =
        localPrimaryColorName.options[localPrimaryColorName.selectedIndex];
      var primaryOptionName = selectedOption.text;
      const localSecondaryColorName = document.getElementById(
        "secondary-color-dropdown"
      );
      var selectedSecondaryOption =
        localSecondaryColorName.options[localSecondaryColorName.selectedIndex];
      var secondaryOptionName = selectedSecondaryOption.text;

      const localHoverColorName = document.getElementById(
        "color-hover-dropdown"
      );
      var selectedHoverOption =
        localHoverColorName.options[localHoverColorName.selectedIndex];
      var hoverOptionName = selectedHoverOption.text;

      const localPressedName = document.getElementById(
        "color-pressed-dropdown"
      );
      var selectedPressedOption =
        localPressedName.options[localPressedName.selectedIndex];
      var pressedOptionName = selectedPressedOption.text;

      const localPrimaryColor = document.getElementById("color-dropdown").value;
      const localSecondaryColor = document.getElementById(
        "secondary-color-dropdown"
      ).value;

      // Parse the JSON strings back into objects
      primaryrgbValues = JSON.parse(localPrimaryColor);
      secondaryrgbValues = JSON.parse(localSecondaryColor);
    }

    parent.postMessage(
      {
        pluginMessage: {
          primaryrgbValues,
          secondaryrgbValues,
          buttonRadius,
          fontStyle,
          buttonHeight,
          buttonWidth,
          buttonFontSize,
          useCustomSize,
          useCustomFontSize,
          useButtonPadding,
          verticalPadding,
          horizontalPadding,
          primaryOptionName,
          secondaryOptionName,
          hoverOptionName,
          pressedOptionName,
          useLocalColorStyles,
        },
      },
      "*"
    );
  };
  function validateSize(value) {
    const numericValue = parseFloat(value);
    return !isNaN(numericValue) && numericValue <= 200;
  }

  onmessage = (event) => {
    const message = event.data.pluginMessage;

    if (message.type === "setDropdownOptions") {
      const dropdown = document.getElementById("color-dropdown");
      const dropdownSecondary = document.getElementById(
        "secondary-color-dropdown"
      );
      const dropdownHover = document.getElementById("color-hover-dropdown");
      const dropdownPressed = document.getElementById("color-pressed-dropdown");

      dropdown.innerHTML = ""; // Clear existing options
      dropdownSecondary.innerHTML = ""; // Clear existing options
      dropdownHover.innerHTML = ""; // Clear existing options
      dropdownPressed.innerHTML = ""; // Clear existing options

      message.options.forEach((option) => {
        const optionElement = document.createElement("option");
        optionElement.value = JSON.stringify(option.value.color);
        optionElement.text = option.label;
        dropdown.appendChild(optionElement);
      });
      message.options.forEach((option) => {
        const optionElement = document.createElement("option");
        optionElement.value = JSON.stringify(option.value.color);
        optionElement.text = option.label;
        dropdownSecondary.appendChild(optionElement);
      });
      message.options.forEach((option) => {
        const optionElement = document.createElement("option");
        optionElement.value = JSON.stringify(option.value.color);
        optionElement.text = option.label;
        dropdownHover.appendChild(optionElement);
      });
      message.options.forEach((option) => {
        const optionElement = document.createElement("option");
        optionElement.value = JSON.stringify(option.value.color);
        optionElement.text = option.label;
        dropdownPressed.appendChild(optionElement);
      });
    }
  };

  function showButtons() {
    document.getElementById("buttonsSection").style.display = "flex";
    document.getElementById("customAISection").style.display = "none";
    document.getElementById("reportSection").style.display = "none";

    // Toggle active class for navbar options
    document.getElementById("buttonsOption").classList.add("active");
    document.getElementById("customAIOption").classList.remove("active");
    document.getElementById("reportOption").classList.remove("active");
  }

  function showCustomAI() {
    document.getElementById("buttonsSection").style.display = "none";
    document.getElementById("reportSection").style.display = "none";
    document.getElementById("customAISection").style.display = "flex";

    // Toggle active class for navbar options
    document.getElementById("buttonsOption").classList.remove("active");
    document.getElementById("reportOption").classList.remove("active");
    document.getElementById("customAIOption").classList.add("active");
  }
  function showReportPage() {
    document.getElementById("buttonsSection").style.display = "none";
    document.getElementById("customAISection").style.display = "none";
    document.getElementById("reportSection").style.display = "flex";

    // Toggle active class for navbar options
    document.getElementById("buttonsOption").classList.remove("active");
    document.getElementById("customAIOption").classList.remove("active");
    document.getElementById("reportOption").classList.add("active");
  }
  function submitEmail() {
    // Handle email submission logic here

    var emailInput = document.getElementById("email-input").value.trim();
    var nameInput = document.getElementById("name-input").value.trim();

    // Check if email and name are provided
    if (emailInput === "" || nameInput === "") {
        const waitlistSuccessText = document.getElementById("waitlist-success-text");
        waitlistSuccessText.classList.add("warning");
        waitlistSuccessText.style.display = "block";
        waitlistSuccessText.textContent = "*Email and Name are required!";
        return; // Exit function if email or name is missing
    }

    var roleInput = document.getElementById("role-input").value;
    var companyInput = document.getElementById("company-input").value;
    var superpowerInput = "";
    if (document.getElementById("codeGenerationCheckbox").checked) {
      superpowerInput += "Code Generation, ";
    }

    if (document.getElementById("uiGenerationCheckbox").checked) {
      superpowerInput += "UI Generation, ";
    }

    if (document.getElementById("otherCheckbox").checked) {
      var otherInput = document.getElementById("otherInput").value;
      if (otherInput.trim() !== "") {
        superpowerInput += otherInput.substring(0, 255) + ", "; // Limit to 255 characters
      }
    }
    var button = document.getElementById("submit-email");
    button.classList.add("btn-disabled");
    button.textContent = "Just wait a sec";
    button.disabled = true;
    if (isValidEmail(emailInput)) {
      const waitlistSuccessText = document.getElementById(
        "waitlist-success-text"
      );
      waitlistSuccessText.classList.remove("warning");
      waitlistSuccessText.style.display = "none";
      fetch("https://sheetdb.io/api/v1/ddqnlui2bceog", {
        method: "POST",
        headers: {
          Accept: "application/json",
          "Content-Type": "application/json",
        },
        body: JSON.stringify({
          data: [
            {
              id: Date.now(),
              ipAddress: null,
              name: nameInput,
              role: roleInput,
              company: companyInput,
              email: emailInput,
              superpower: superpowerInput.trim(),
            },
          ],
        }),
      })
        .then((response) => response.json())
        .then((data) => {
          const waitlistSuccessText = document.getElementById(
            "waitlist-success-text"
          );
          waitlistSuccessText.textContent =
            "Congrats you have been added to the waitlist 🎉";
          waitlistSuccessText.style.display = "block";
          // var button = document.getElementById("submit-email");
          button.textContent = "Submit";
          button.disabled = false;
          button.classList.remove("btn-disabled");
          // setButtonText("Join Waitlist");
        });
    } else {
      const waitlistSuccessText = document.getElementById(
        "waitlist-success-text"
      );
      waitlistSuccessText.classList.add("warning");
      waitlistSuccessText.style.display = "block";
      waitlistSuccessText.textContent = "*Invalid Email!";
      button.textContent = "Submit";
      button.disabled = false;
      button.classList.remove("btn-disabled");
    }
  }
  const isValidEmail = (email) => {
    const emailRegex =
      /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
    return emailRegex.test(email);
  };
</script>
